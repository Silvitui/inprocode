"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[205],{205:(h,m,r)=>{r.r(m),r.d(m,{LoginComponent:()=>_});var e=r(4020),d=r(5085),o=r(4341),g=r(4796),c=r(177);function p(t,u){if(1&t&&(e.j41(0,"p",4),e.EFF(1),e.k0s()),2&t){const s=e.XpG();e.R7$(),e.JRh(s.errorMessage())}}function f(t,u){1&t&&(e.j41(0,"p",9),e.EFF(1,"Invalid email."),e.k0s())}function b(t,u){1&t&&(e.j41(0,"p",9),e.EFF(1,"The password must have at least 6 characters."),e.k0s())}let _=(()=>{class t{router=(0,e.WQX)(d.Ix);authService=(0,e.WQX)(g.u);fb=(0,e.WQX)(o.ok);errorMessage=(0,e.vPA)("");loginForm=this.fb.group({email:["",[o.k0.required,o.k0.email]],password:["",[o.k0.required,o.k0.minLength(6)]]});onSubmit(){this.loginForm.invalid?this.errorMessage.set("Por favor, completa todos los campos correctamente."):this.authService.loginUser(this.loginForm.value).subscribe({next:()=>{console.log("Login exitoso")},error:l=>{console.error("Error en login:",l),this.errorMessage.set("Error al iniciar sesi\xf3n. Verifica tus credenciales.")}})}goToWelcome(){this.router.navigate(["/welcome"])}static \u0275fac=function(l){return new(l||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"login-container","flex","items-center","justify-center","min-h-screen","px-6"],[1,"absolute","top-4","right-4","text-gray-500","hover:text-red-500","text-2xl","font-bold",3,"click"],[1,"w-full","max-w-md","bg-white/30","backdrop-blur-md","p-8","rounded-xl","shadow-lg"],[1,"text-3xl","font-bold","text-green-900","text-center","mb-6"],[1,"text-red-600","text-sm","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-gray-700","text-sm","font-semibold","mb-2"],["type","email","id","email","placeholder","Enter your email","formControlName","email",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-green-500"],[1,"text-red-900","text-sm"],["for","password",1,"block","text-gray-700","text-sm","font-semibold","mb-2"],["type","password","id","password","placeholder","Enter your password","formControlName","password",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-green-500"],[1,"flex","items-center","justify-between"],["href","#",1,"text-sm","text-green-900","hover:text-green-800"],[1,"mt-6","w-full","bg-green-700","hover:bg-green-800","text-white","py-2","px-4","rounded-lg",3,"disabled"],[1,"mt-4","text-sm","text-gray-800","text-center"],["href","/register",1,"text-green-700","font-semibold","hover:text-green-800"]],template:function(l,n){if(1&l&&(e.j41(0,"section",0)(1,"button",1),e.bIt("click",function(){return n.goToWelcome()}),e.EFF(2," \u2716 "),e.k0s(),e.j41(3,"div",2)(4,"h2",3),e.EFF(5,"Login"),e.k0s(),e.DNE(6,p,2,1,"p",4),e.j41(7,"form",5),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(8,"div",6)(9,"label",7),e.EFF(10,"Email"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,f,2,0,"p",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15,"Password"),e.k0s(),e.nrm(16,"input",11),e.DNE(17,b,2,0,"p",9),e.k0s(),e.j41(18,"div",12)(19,"a",13),e.EFF(20,"Forgot Password?"),e.k0s()(),e.j41(21,"button",14),e.EFF(22," Login "),e.k0s()(),e.j41(23,"p",15),e.EFF(24," Don't have an account? "),e.j41(25,"a",16),e.EFF(26,"Sign up"),e.k0s()()()()),2&l){let i,a;e.R7$(6),e.vxM(n.errorMessage()?6:-1),e.R7$(),e.Y8G("formGroup",n.loginForm),e.R7$(5),e.vxM(null!=(i=n.loginForm.get("email"))&&i.invalid&&null!=(i=n.loginForm.get("email"))&&i.touched?12:-1),e.R7$(5),e.vxM(null!=(a=n.loginForm.get("password"))&&a.invalid&&null!=(a=n.loginForm.get("password"))&&a.touched?17:-1),e.R7$(4),e.Y8G("disabled",n.loginForm.invalid)}},dependencies:[o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,c.MD],encapsulation:2})}return t})()}}]);