"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[997],{3997:(E,d,n)=>{n.r(d),n.d(d,{RegisterComponent:()=>v});var e=n(4020),g=n(5085),r=n(4341),c=n(4796),p=n(177);function f(t,u){if(1&t&&(e.j41(0,"p",4),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.JRh(i.errorMessage())}}function b(t,u){1&t&&(e.j41(0,"p",9),e.EFF(1,"The name must have at least 3 characters.."),e.k0s())}function _(t,u){1&t&&(e.j41(0,"p",9),e.EFF(1,"Invalid email."),e.k0s())}function h(t,u){1&t&&(e.j41(0,"p",9),e.EFF(1,"The password must have at least 6 characters."),e.k0s())}let v=(()=>{class t{router=(0,e.WQX)(g.Ix);authService=(0,e.WQX)(c.u);fb=(0,e.WQX)(r.ok);registerForm=this.fb.group({userName:["",[r.k0.required,r.k0.minLength(3)]],email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(6)]]});errorMessage=(0,e.vPA)("");onSubmit(){this.registerForm.invalid?this.errorMessage.set("Por favor, completa todos los campos correctamente."):this.authService.registerUser(this.registerForm.value).subscribe({next:()=>{console.log("Registro completado"),this.router.navigate(["/login"])},error:s=>{console.error("Error en registro:",s),this.errorMessage.set(s.error?.error||"Error al registrarse. Int\xe9ntalo de nuevo.")}})}goToWelcome(){this.router.navigate(["/welcome"])}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-register"]],decls:29,vars:6,consts:[[1,"register-container","flex","items-center","justify-center","min-h-screen","px-6"],[1,"absolute","top-4","right-4","text-gray-500","hover:text-red-500","text-2xl","font-bold",3,"click"],[1,"w-full","max-w-md","bg-white/30","backdrop-blur-md","p-8","rounded-xl","shadow-lg"],[1,"text-3xl","font-bold","text-green-900","text-center","mb-6"],[1,"text-red-600","text-sm","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","userName",1,"block","text-gray-700","text-sm","font-semibold","mb-2"],["type","text","id","userName","placeholder","Enter your username","formControlName","userName",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-green-500"],[1,"text-red-900","text-sm"],["for","email",1,"block","text-gray-700","text-sm","font-semibold","mb-2"],["type","email","id","email","placeholder","Enter your email","formControlName","email",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-green-500"],["for","password",1,"block","text-gray-700","text-sm","font-semibold","mb-2"],["type","password","id","password","placeholder","Enter your password","formControlName","password",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-green-500"],[1,"mt-6","w-full","bg-green-700","hover:bg-green-800","text-white","py-2","px-4","rounded-lg",3,"disabled"],[1,"mt-4","text-sm","text-gray-600","text-center"],["href","/login",1,"text-green-700","font-semibold","hover:text-green-800"]],template:function(s,o){if(1&s&&(e.j41(0,"section",0)(1,"button",1),e.bIt("click",function(){return o.goToWelcome()}),e.EFF(2,"\n\u2716\n"),e.k0s(),e.j41(3,"div",2)(4,"h2",3),e.EFF(5,"Register"),e.k0s(),e.DNE(6,f,2,1,"p",4),e.j41(7,"form",5),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(8,"div",6)(9,"label",7),e.EFF(10,"Username"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,b,2,0,"p",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15,"Email"),e.k0s(),e.nrm(16,"input",11),e.DNE(17,_,2,0,"p",9),e.k0s(),e.j41(18,"div",6)(19,"label",12),e.EFF(20,"Password"),e.k0s(),e.nrm(21,"input",13),e.DNE(22,h,2,0,"p",9),e.k0s(),e.j41(23,"button",14),e.EFF(24," Register "),e.k0s()(),e.j41(25,"p",15),e.EFF(26," Already have an account? "),e.j41(27,"a",16),e.EFF(28,"Login"),e.k0s()()()()),2&s){let l,a,m;e.R7$(6),e.vxM(o.errorMessage()?6:-1),e.R7$(),e.Y8G("formGroup",o.registerForm),e.R7$(5),e.vxM(null!=(l=o.registerForm.get("userName"))&&l.invalid&&null!=(l=o.registerForm.get("userName"))&&l.touched?12:-1),e.R7$(5),e.vxM(null!=(a=o.registerForm.get("email"))&&a.invalid&&null!=(a=o.registerForm.get("email"))&&a.touched?17:-1),e.R7$(5),e.vxM(null!=(m=o.registerForm.get("password"))&&m.invalid&&null!=(m=o.registerForm.get("password"))&&m.touched?22:-1),e.R7$(),e.Y8G("disabled",o.registerForm.invalid)}},dependencies:[r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,p.MD],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-image:url(/inprocode/assets/calming-woods.jpg);background-size:cover;background-position:center}"]})}return t})()}}]);